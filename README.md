# Aura Writing Pipeline

一个基于多代理协作的智能写作辅助系统，能将原始思考、学习笔记转化为针对不同平台优化的高质量内容。

## 🎯 系统特点

### 职责分工清晰
- **4个专业子代理**：各司其职，避免角色混淆
- **1个总控编排**：负责调度、冲突仲裁、交付整合

### 认知科学驱动
- 基于费曼技术、精细化加工、对比学习等学习原理
- 每个修改都有明确的认知或平台层面的理由
- 不做无意义的"润色"

### 平台适配精准
- 支持小红书、X/Twitter、微信群等多平台
- 基于稳定的平台最佳实践，而非短期热点
- 结构、长度、语气、互动设计全方位适配

### 可审计可迭代
- 完整的修改理由链
- 中间产物全部保存
- 信息缺口明确标注，不编造内容

---

## 📁 项目结构

```
Aura_Thinker/
├── CLAUDE.md                    # 全局配置与约束规则
├── README.md                    # 本文档
├── .claude/
│   └── agents/                  # 子代理配置
│       ├── orchestrator.md      # 总控编排
│       ├── cognitive-reviewer.md    # 思考复盘专家
│       ├── learning-coach.md    # 学习科学提问教练
│       ├── platform-strategist.md   # 平台适配策略
│       └── editor-finalizer.md  # 终稿编辑
├── inputs/                      # 输入内容存放
│   └── example-input.md         # 输入模板
├── outputs/                     # 输出内容存放（按时间戳组织）
├── rubrics/                     # 质量评估标准
│   └── quality-checklist.md     # 质量检查清单
```

---

## 🚀 快速开始

### 1. 准备你的内容

使用 `inputs/example-input.md` 作为模板，创建新文件：

```markdown
## Meta Information
- **Platform**: 小红书
- **Goal**: 涨粉
- **Tone**: 专业
- **Audience**: 对AI技术感兴趣的从业者

## Source Content
[粘贴你的原始内容]
```

### 2. 在Claude Code中启动处理

方式A：直接对话
```
"帮我把 inputs/my-content.md 改成小红书文章"
```

方式B：明确调用orchestrator
```
"用aura-orchestrator处理 inputs/my-content.md，
目标平台是小红书，希望能涨粉"
```

### 3. 查看输出

系统会在 `outputs/[timestamp]/` 生成：
- `final-draft.md` - 可直接发布的终稿
- `change-log.md` - 修改理由说明
- `reviewer-output.md` - 结构诊断结果
- `coach-questions.md` - 深化思考的问题（可选）
- `strategist-plan.md` - 平台适配方案

---

## 🔄 工作流程

```
┌─────────────┐
│ 用户输入原文  │
└──────┬──────┘
       ↓
┌──────────────────┐
│ Orchestrator     │ ← 提取参数、调度子代理
└────┬─────────────┘
     ↓
┌────────────────────────┐
│ 1️⃣ Cognitive Reviewer │ ← 诊断结构、识别问题
└────┬───────────────────┘
     ↓
┌──────────────────────────────────┐
│ 2️⃣ Learning Coach (并行)        │ ← 提出深化问题
│ 2️⃣ Platform Strategist (并行)  │ ← 生成平台适配方案
└────┬─────────────────────────────┘
     ↓
┌─────────────────────┐
│ 3️⃣ Editor Finalizer │ ← 整合生成终稿
└────┬────────────────┘
     ↓
┌──────────────┐
│ 交付包输出    │ ← 终稿 + 理由链 + 检查表
└──────────────┘
```

---

## 🎓 子代理说明

### 🔍 Cognitive Reviewer（思考复盘专家）
- **职责**：诊断论证结构，识别概念模糊、逻辑跳跃、证据不足
- **输出**：一句话主张、论证骨架、问题清单、最小修复建议
- **不做**：平台优化、终稿写作、提问

### 💡 Learning Coach（学习科学提问教练）
- **职责**：基于认知工具箱提出高质量问题，帮助深化思考
- **输出**：5个问题（每个含Purpose和Why now）
- **不做**：提供答案、平台策略、终稿写作

### 📱 Platform Strategist（平台适配策略）
- **职责**：分析平台特性，生成结构建议与改写指令
- **输出**：平台目标函数、结构建议、改写指令、检查表、风险提示
- **不做**：终稿写作、结构诊断、提问

### ✍️ Editor Finalizer（终稿编辑）
- **职责**：整合所有材料，产出可发布终稿与修改理由
- **输出**：终稿、修改摘要、备用标题
- **不做**：提问、平台分析、结构诊断

### 🎯 Orchestrator（总控编排）
- **职责**：参数提取、子代理调度、冲突仲裁、交付整合
- **输出**：完整交付包
- **不做**：专业工作（全部委托给子代理）

---

## 📋 支持的平台

### 小红书 (Xiaohongshu)
- **目标函数**：停留时长 + 收藏率
- **结构**：场景化钩子 → 分点呈现 → 行动建议 + 互动
- **长度**：500-800字
- **特点**：亲切专业、实用性强、视觉节奏好

### X (Twitter)
- **目标函数**：转发率 + 评论参与
- **结构**：直接亮观点 → 支撑理由 → 开放性问题
- **长度**：单条≤280字符 或 Thread 3-5条
- **特点**：犀利有态度、信息密度高、可辩论

### 微信群 (WeChat Group)
- **目标函数**：引发讨论 + 有用性
- **结构**：简短背景 → 核心内容 → 讨论性问题
- **长度**：300-600字
- **特点**：温和专业、易扫读、尊重群聊环境

---

## ⚙️ 配置说明

### 全局配置 (CLAUDE.md)

定义了整个系统的约束规则：
- **不编造原则**：缺失信息用占位符标注
- **推理透明**：每个修改必须有明确理由
- **证据引用**：引用原文时用具体片段
- **输出结构**：统一的格式标准
- **语言约束**：语气、句长、术语解释规范
- **信息密度**：每段一个核心观点

### 子代理配置 (.claude/agents/*.md)

每个子代理有独立配置文件，包含：
- **Description**：何时使用该代理（用于自动路由）
- **System Prompt**：详细的职责说明与约束
- **Input/Output Contract**：输入输出格式规范
- **Quality Checklist**：内部质量检查项

---

## 🎨 使用场景

### 场景1：学习笔记 → 平台内容

```
Input: 阅读论文/视频后的零散笔记
→ Reviewer: 梳理论证结构
→ Coach: 提问深化理解
→ Strategist: 适配目标平台
→ Editor: 产出终稿
Output: 可发布的高质量内容
```

### 场景2：草稿润色

```
Input: 已有草稿，但结构松散
→ Reviewer: 识别问题
→ Strategist: 平台适配方案
→ Editor: 重构优化
Output: 结构清晰、平台友好的终稿
```

### 场景3：多平台分发

```
Input: 同一内容
→ 分别指定platform参数
→ 生成多个平台版本
Output: 小红书版、X版、微信版
```

---

## 📊 质量保证

### 四大质量维度

1. **可理解性**：目标读者无需重读即可理解
2. **可信性**：断言有支撑，不确定性已说明
3. **可传播性**：符合平台特性，有吸引力
4. **可迭代性**：修改理由清晰，改进方向明确

详见 `rubrics/quality-checklist.md`

### 内置检查机制

- **Reviewer**: 诊断结构问题
- **Coach**: 识别认知缺口
- **Strategist**: 检查平台匹配度
- **Editor**: 执行质量自查清单
- **Orchestrator**: 冲突仲裁与最终验证

---

## 🔧 高级用法

### 直接调用单个子代理

如果只需要某个环节：

```
"用 aura-cognitive-reviewer 分析这段内容的论证结构"
"用 aura-platform-strategist 给我生成小红书的改写方案"
```

### 迭代改进

```
1. 第一轮：生成初稿
2. 查看coach的问题，补充思考
3. 第二轮：带着补充信息重新处理
4. 对比两次输出，选择最佳版本
```

### 自定义平台规则

在 `CLAUDE.md` 的 "Platform Defaults" 部分添加新平台：

```markdown
### LinkedIn
- **Structure**: ...
- **Length**: ...
- **Tone**: ...
```

---

## 🚨 重要约束

### ❌ 系统不会做的事

1. **不编造事实**：缺失信息用 `[待补充: ...]` 标注
2. **不替用户回答问题**：coach的问题留给用户思考
3. **不追逐热点**：基于稳定的平台原则，非短期趋势
4. **不做无理由修改**：每个改动都有认知或平台依据
5. **不混淆角色**：每个子代理严格遵守职责边界

### ✅ 系统能做的事

1. **结构诊断**：识别论证问题、逻辑跳跃
2. **认知深化**：提出高质量问题促进思考
3. **平台适配**：重构内容以匹配平台特性
4. **终稿交付**：产出可直接发布的内容
5. **理由审计**：提供完整的修改推理链

---

## 📝 最佳实践

### 输入建议

1. **尽量提供上下文**：目标读者、写作目的、平台
2. **标注不确定的地方**：哪些是假设、哪些需验证
3. **提供参考资料**：相关链接、数据来源

### 输出使用

1. **先看change-log**：理解为什么这样改
2. **对照checklist**：发布前自查
3. **保存中间产物**：便于复盘和迭代

### 迭代策略

1. **快速第一版**：先跑通流程
2. **重点改进**：根据reviewer和coach的反馈补充
3. **多版本测试**：同一内容尝试不同平台版本

---

## 🤝 与Claude Code协作

### 推荐工作流

```bash
# 1. 创建输入文件
cp inputs/example-input.md inputs/2026-01-20-topic.md
# 编辑 inputs/2026-01-20-topic.md

# 2. 在Claude Code中处理
"帮我处理 inputs/2026-01-20-topic.md"

# 3. 查看输出
ls outputs/[timestamp]/
```

### Claude Code优势

- **子代理自动路由**：根据Description自动选择合适的agent
- **并行处理**：coach和strategist可并行调用
- **上下文管理**：CLAUDE.md自动加载为项目规则
- **文件管理**：自动组织输入输出

---

## 📚 学习资源

### 认知工具箱

系统使用的认知学习原理：
1. **费曼技术**：用简单语言解释，定位理解卡点
2. **精细化加工**：连接新旧知识，建立深层联系
3. **对比学习**：通过区分相似概念澄清边界
4. **迁移**：测试理解深度与适用范围
5. **预测-检验**：主动建构知识，强化记忆
6. **元认知**：审视认知过程与证据强度

### 扩展阅读

- Claude Code文档：https://code.claude.com/docs
- 多代理协作最佳实践（见项目讨论记录）
- 平台内容策略研究（各平台官方创作指南）

---

## 🐛 常见问题

### Q: 为什么要拆成多个子代理？
A: 单一模型在一次回复中切换多个角色会导致风格漂移、职责混乱。拆分后每个agent只做一件事，更稳定、可测试、可并行。

### Q: 可以跳过某个环节吗？
A: 可以直接调用单个子代理，但完整流程能确保质量。建议至少经过reviewer和editor。

### Q: 如果coach的问题我回答不了怎么办？
A: Orchestrator会生成信息缺口列表交给editor，用占位符标注。你可以之后补充再迭代。

### Q: 能支持英文内容吗？
A: 可以。在Meta Information中指定语言，系统会相应调整（句长标准、平台规则等）。

### Q: 如何添加新平台？
A: 在CLAUDE.md的"Platform Defaults"部分添加新平台的结构、长度、语气规范即可。

---

## 📄 版本信息

- **Version**: 1.0
- **Created**: 2026-01-20
- **Author**: Created via Claude Code
- **License**: MIT

---

## 🎉 开始使用

```bash
# 1. 复制输入模板
cp inputs/example-input.md inputs/my-first-article.md

# 2. 编辑内容
# 填写平台、目标、原始内容

# 3. 在Claude Code中运行
"帮我把 inputs/my-first-article.md 改成小红书文章"

# 4. 查看结果
# 输出在 outputs/[timestamp]/ 目录
```

祝写作愉快！🚀
